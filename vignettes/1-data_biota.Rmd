---
title: "data_biota"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{data_biota}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = FALSE, 
  message = FALSE,
  comment = FALSE,
  warning = FALSE,
  fig.show='hold',
  fig.align="center",
  dev.args = list(family = "Arial")
  )

library(esteem.overview)
library(tidyverse)
library(DT)


library(mixtools)
library(RColorBrewer)

col_gradient <- brewer.pal(n = 8, name = "RdYlGn")
```

## Estuarine haline zones maps

```{r}
knitr::include_graphics(
  system.file(
    "results/data_maps/POMET/plot_POMET_map_gironde.jpg",
    package = "esteem.overview"
  )
)
```

```{r}
knitr::include_graphics(
  system.file(
    "results/data_maps/POMET/plot_POMET_map_loire.jpg",
    package = "esteem.overview"
  )
)
```

```{r}
knitr::include_graphics(
  system.file(
    "results/data_maps/POMET/plot_POMET_map_seine.jpg",
    package = "esteem.overview"
  )
)
```

## Physicochemical parameters

### Salinity - Temporal evolution in the central zone

```{r}
get_shortened_path("results/data_POMET/salinity/plot_POMET_central_salinity_evolution.jpg")
```

## POMET dataset (demerso-pellagical)

### Fish size classes

Juvenile marine fish indicators :

- Common sole (*Solea solea*)
- European seabass (*Dicentrarchus labrax*)

Observation period: autumn

```{r}
get_shortened_path("results/data_POMET/fish_size_class/plot_POMET_sole_size_class.jpg")
```

```{r}
get_shortened_path("results/data_POMET/fish_size_class/plot_POMET_seabass_size_class.jpg")
```

### Fish densities

```{r}
get_shortened_path("results/data_POMET/species_densities/plot_POMET_density_fish.jpg")
```

### Shrimps densities

```{r}
get_shortened_path("results/data_POMET/species_densities/plot_POMET_density_shrimps.jpg")
```

### Prey species

```{r}
data_POMET |>
  distinct(phylum)

data_POMET |>
  filter(phylum != "Chordata") |>
  distinct(phylum, famille, name) |>
  arrange(phylum, famille) |>
  print(n = 48)
```

## REBENT dataset (benthic)

Source code: 2.1-data_REBENT.R

### Maps

Source code: 2.2-data_REBENT_maps.R

```{r}
knitr::include_graphics(
  system.file(
    "results/data_maps/REBENT/plot_REBENT_map_gironde.jpg",
    package = "esteem.overview"
  )
)
```

```{r}
knitr::include_graphics(
  system.file(
    "results/data_maps/REBENT/plot_REBENT_map_loire.jpg",
    package = "esteem.overview"
  )
)
```

```{r}
knitr::include_graphics(
  system.file(
    "results/data_maps/REBENT/plot_REBENT_map_seine.jpg",
    package = "esteem.overview"
  )
)
```

### Taxonomy

Source code: 2.3-data_REBENT_taxonomy.R

#### Detail by taxa
```{r}
get_shortened_path("results/data_benthos/indicators/ggplot_REBENT_abundance_taxonomy.jpg")
```

#### Detail by major species
```{r}
get_shortened_path("results/data_benthos/indicators/ggplot_REBENT_abundance_species.jpg")
```


### Indicators

Source code: 2.4-data_REBENT_indicators.R

#### Species richness

```{r}
get_shortened_path("results/data_benthos/indicators/ggplot_REBENT_species_richness.jpg")
```

#### Shannon index (H')

```{r}
get_shortened_path("results/data_benthos/indicators/ggplot_REBENT_shannon_index.jpg")
```

#### Abundance / density

```{r}
get_shortened_path("results/data_benthos/indicators/ggplot_REBENT_density.jpg")
```

#### AMBI

```{r}
get_shortened_path("results/data_benthos/indicators/ggplot_REBENT_AMBI_index.jpg")
```

#### BEQI-FR

```{r}
get_shortened_path("results/data_benthos/indicators/ggplot_REBENT_BEQIFR_index.jpg")
```

### Sediment characteristics

Source code: 2.5-data_REBENT_sediment.R

#### Organic matter

```{r}
get_shortened_path("results/data_benthos/sediment/ggplot_sediment_organic_matter.jpg")
```

#### Grain size

```{r}
get_shortened_path("results/data_benthos/sediment/ggplot_sediment_grain_size.jpg")
```
