---
title: "data_biota"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{data_biota}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = FALSE, 
  message = FALSE,
  comment = FALSE,
  warning = FALSE,
  fig.show='hold',
  fig.align="center",
  dev.args = list(family = "Arial")
  )

library(esteem.overview)
library(tidyverse)
library(DT)


library(mixtools)
library(RColorBrewer)

col_gradient <- brewer.pal(n = 8, name = "RdYlGn")
```

## Estuarine haline zones maps

```{r}
knitr::include_graphics(
  system.file(
    "results/data_maps/POMET/plot_POMET_map_gironde.jpg",
    package = "esteem.overview"
  )
)
```

```{r}
knitr::include_graphics(
  system.file(
    "results/data_maps/POMET/plot_POMET_map_loire.jpg",
    package = "esteem.overview"
  )
)
```

```{r}
knitr::include_graphics(
  system.file(
    "results/data_maps/POMET/plot_POMET_map_seine.jpg",
    package = "esteem.overview"
  )
)
```

## Physicochemical parameters

### Salinity - Temporal evolution in the central zone

```{r}
knitr::include_graphics(
  system.file(
    "results/data_POMET/salinity/plot_POMET_central_salinity_evolution.jpg",
    package = "esteem.overview"
  )
)
```

## POMET dataset (demerso-pellagical)

### Fish size classes

Juvenile marine fish indicators :

- Common sole (*Solea solea*)
- European seabass (*Dicentrarchus labrax*)

Observation period: autumn

```{r}
knitr::include_graphics(
  system.file(
    "results/data_POMET/fish_size_class/plot_POMET_sole_size_class.jpg",
    package = "esteem.overview"
  )
)
```

```{r}
knitr::include_graphics(
  system.file(
    "results/data_POMET/fish_size_class/plot_POMET_seabass_size_class.jpg",
    package = "esteem.overview"
  )
)
```

### Fish densities

```{r}
knitr::include_graphics(
  system.file(
    "results/data_POMET/species_densities/plot_POMET_density_fish.jpg",
    package = "esteem.overview"
  )
)
```

### Shrimps densities

```{r}
knitr::include_graphics(
  system.file(
    "results/data_POMET/species_densities/plot_POMET_density_shrimps.jpg",
    package = "esteem.overview"
  )
)
```

### Prey species

```{r}
data_POMET |>
  distinct(phylum)

data_POMET |>
  filter(phylum != "Chordata") |>
  distinct(phylum, famille, name) |>
  arrange(phylum, famille) |>
  print(n = 48)
```

## REBENT dataset (benthic)

```{r}
data_REBENT <- esteem.overview::data_benthos_REBENT_cleaned
```

### Maps

```{r}
knitr::include_graphics(
  system.file(
    "results/data_maps/REBENT/plot_REBENT_map_gironde.jpg",
    package = "esteem.overview"
  )
)
```

```{r}
knitr::include_graphics(
  system.file(
    "results/data_maps/REBENT/plot_REBENT_map_loire.jpg",
    package = "esteem.overview"
  )
)
```

```{r}
knitr::include_graphics(
  system.file(
    "results/data_maps/REBENT/plot_REBENT_map_seine.jpg",
    package = "esteem.overview"
  )
)
```

### Indicators

#### Species richness

```{r}
knitr::include_graphics(
  system.file(
    "results/data_benthos/indicators/ggplot_REBENT_species_richness.jpg",
    package = "esteem.overview"
  )
)
```

#### Shannon index (H')

```{r}
knitr::include_graphics(
  system.file(
    "results/data_benthos/indicators/ggplot_REBENT_shannon_index.jpg",
    package = "esteem.overview"
  )
)
```
